{% extends "base.html" %} {% block title %}Profile{% endblock %} {% block content %}
<h2>Profile</h2>
<form method="POST" action="{{ url_for('auth.update_profile') }}">
  <div class="form-group">
    <label for="email">Email Address</label>
    <input
      type="email"
      class="form-control"
      id="email"
      name="email"
      value="{{ current_user.email }}"
      readonly
    />
  </div>
  <div class="form-group">
    <label for="first_name">First Name</label>
    <input
      type="text"
      class="form-control"
      id="first_name"
      name="first_name"
      value="{{ current_user.first_name }}"
    />
  </div>
  <div class="form-group">
    <label for="last_name">Last Name</label>
    <input
      type="text"
      class="form-control"
      id="last_name"
      name="last_name"
      value="{{ current_user.last_name }}"
    />
  </div>
  <div class="form-group">
    <label for="phone_num">Phone Number</label>
    <input
      type="tel"
      class="form-control"
      id="phone_num"
      name="phone_num"
      value="{{ current_user.phone_num }}"
    />
  </div>
  <div class="form-group">
    <label for="birthday">Birthday</label>
    <input
      type="date"
      class="form-control"
      id="birthday"
      name="birthday"
      value="{{ current_user.birthday }}"
    />
  </div>
  <div class="form-group">
    <label for="card_num">Card Number</label>
    <input
      type="text"
      class="form-control"
      id="card_num"
      name="card_num"
      value="{{ current_user.card_num }}"
    />
  </div>
  <div class="form-group">
    <label for="cvv">CVV</label>
    <input
      type="text"
      class="form-control"
      id="cvv"
      name="cvv"
      value="{{ current_user.cvv }}"
    />
  </div>
  <div class="form-group">
    <label for="exp_date">Expiration Date</label>
    <input
      type="date"
      class="form-control"
      id="exp_date"
      name="exp_date"
      value="{{ current_user.exp_date }}"
    />
  </div>
  <div class="form-group">
    <label for="license_num">License Number</label>
    <input
      type="text"
      class="form-control"
      id="license_num"
      name="license_num"
      value="{{ current_user.license_num }}"
    />
  </div>
  <br />
  <button type="submit" class="btn btn-primary">Update Profile</button>
</form>

<hr />

<div class="delete-account">
  <h3>Delete Account</h3>
  <p>Are you sure you want to delete your account? This action cannot be undone.</p>
  <button id="deleteAccountBtn" class="btn btn-danger">Delete Account</button>
</div>

<script>
  document.getElementById('deleteAccountBtn').addEventListener('click', function() {
    if (confirm('Are you sure you want to delete your account?')) {
      window.location.href = "{{ url_for('auth.delete_account') }}";
    }
  });
</script>
{% endblock %}