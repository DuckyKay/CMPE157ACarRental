{% extends "base.html" %} {% block title %}Edit Location{% endblock %} {% block content %}
<div class="pl-0 col-lg-9">
  <h2 class="mt-4">Edit Location</h2>
  <form class="mb-4" method="POST" action="{{ url_for('auth.edit_location', location_id=location.id) }}">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="city">City</label>
        <input type="text" class="form-control" id="city" name="city" value="{{ location.city }}" required>
      </div>
      <div class="form-group col-6 col-md-2">
        <label for="state">State</label>
        <input type="text" class="form-control" id="state" name="state" value="{{ location.state }}" required>
      </div>
      <div class="form-group col-6 col-md-4">
        <label for="zip_code">Zip Code</label>
        <input type="text" class="form-control" id="zip_code" name="zip_code" value="{{ location.zip_code }}" required>
      </div>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Update Location</button>
  </form>

  <hr>
  <h3 class="mb-3">Cars at this Location</h3>
  <table class="table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Make</th>
        <th>Model</th>
        <th>Price per Hour</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for car in location.cars %}
      <tr>
        <td>{{ car.id }}</td>
        <td>{{ car.make }}</td>
        <td>{{ car.model }}</td>
        <td>{{ car.price_per_hour }}</td>
        <td>
          <a href="{{ url_for('auth.edit_car', car_id=car.id) }}" class="btn btn-primary btn-sm">Edit</a>
          <a href="{{ url_for('auth.delete_car', car_id=car.id) }}" class="btn btn-danger btn-sm"
            onclick="return confirm('Are you sure you want to delete this car?')">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}